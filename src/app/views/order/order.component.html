<div class="container-lg" *ngIf="showForm; else orderSuccess">
  <div class="order-section mt-5 h-100">
    <div class="form-section row">
      <h2 class="fs-2 fw-bold text-center">Сделать заказ</h2>
      <form role="form" [formGroup]="orderForm" (ngSubmit)="send()" id="form" class="mt-4 mb-5 col-md-6 mx-auto ">
        <div>
          <div>

          </div>
        </div>
        <div class="row">
          <div class="mb-3 col-lg-4">
            <div>
              <label for="name" class="form-label">Имя</label>
              <input type="text" class="form-control"
                     formControlName="name"
                     id="name" name="name">
            </div>

            <div *ngIf="name?.invalid && (name?.dirty || name?.touched)">
              <div class="invalid-feedback"
                   *ngIf="name?.errors?.['required']">
                Поле не должно быть пустым
              </div>
              <div class="invalid-feedback"
                   *ngIf="name?.errors?.['pattern']">
                Поле должно содержать только русские буквы
              </div>
            </div>
          </div>


          <div class="mb-3 col-lg-4">
            <div>
              <label for="lastName" class="form-label">Фамилия</label>
              <input type="text" class="form-control" formControlName="lastName" id="lastName" name="lastName">
            </div>

            <div *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)">
              <div class="invalid-feedback"
                   *ngIf="lastName?.errors?.['required']">
                Поле не должно быть пустым
              </div>
              <div class="invalid-feedback"
                   *ngIf="lastName?.errors?.['pattern']">
                Поле должно содержать только русские буквы
              </div>
            </div>
          </div>


          <div class="mb-3 col-lg-4">
            <div>
              <label for="phone" class="form-label">Телефон</label>
              <input type="text" class="form-control" formControlName="phone" id="phone" name="phone">
            </div>

            <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)">
              <div class="invalid-feedback"
                   *ngIf="phone?.errors?.['required']">
                Поле не должно быть пустым
              </div>
              <div class="invalid-feedback"
                   *ngIf="phone?.errors?.['pattern']">
                Поле должно содержать цифры
              </div>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="mb-3 col-md-6">

            <div>
              <label for="country" class="form-label">Страна</label>
              <input type="text" class="form-control" formControlName="country" id="country" name="country">
            </div>

            <div *ngIf="country?.invalid && (country?.dirty || country?.touched)">
              <div class="text-danger" *ngIf="country?.errors?.['required']">
                Поле должно содержать русские буквы
              </div>
            </div>
          </div>


          <div class="mb-3 col-md-6">
            <div>
              <label for="zip" class="form-label">Индекс</label>
              <input type="text" class="form-control" formControlName="zip" id="zip" name="zip">
            </div>
            <div *ngIf="zip?.invalid && (zip?.dirty || zip?.touched)">
              <div class="text-danger" *ngIf="zip?.errors?.['required']">
                Поле не должно быть пустым
              </div>
            </div>
          </div>
        </div>

        <div class="mb-4">
          <div>
            <label for="address" class="form-label">Адрес</label>
            <input type="text" class="form-control" formControlName="address" id="address" name="address">
          </div>
          <div *ngIf="address?.invalid && (address?.dirty || address?.touched)">
            <div class="text-danger" *ngIf="address?.errors?.['required']">
              Поле не должно быть пустым
            </div>
            <div class="text-danger" *ngIf="address?.errors?.['pattern']">
              В поле «Адрес» можно вводить: буквы, цифры, пробелы, дефис и слэш
            </div>
          </div>
        </div>

        <div class="mb-4">
          <label for="product" class="form-label">Товар</label>
          <input type="text" class="form-control" id="product" formControlName="product" name="product">
        </div>

        <div class="mb-4">
          <label for="comment" class="form-label">Комментарий к заказу</label>
          <textarea class="form-control" id="comment" formControlName="comment" name="comment"></textarea>
        </div>



        <div class="active-button">
          <div class="invalid-feedback" *ngIf="showErrorMessage">
            Произошла ошибка. Попробуйте еще раз.
          </div>
          <button id="button" type="submit" class=" btn btn-primary w-50-lg hvr-push">Отправить</button>
        </div>
      </form>
    </div>
  </div>
</div>


<ng-template #orderSuccess>
  <div class="order-section mt-5 h-100">
    <div class="form-section row">
      <div class="row">
        <div class="success text-success border border-2 border-success mb-3 col-lg-4">
          Спасибо за заказ!
        </div>
      </div>
      <div class="row">
        <div class="button">
          <a class="btn btn-primary col-lg-2" routerLink="/products">Заказать еще</a>
        </div>
      </div>

    </div>
  </div>
</ng-template>
